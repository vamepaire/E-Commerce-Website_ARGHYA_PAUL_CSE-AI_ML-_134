<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Owner's Page - Shopmate Business</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="bg-gray-100 min-h-screen">
    <!-- Navbar -->
    <nav
      class="bg-gradient-to-r from-purple-600 via-pink-500 to-pink-400 fixed top-0 left-0 w-full z-50 shadow-lg"
    >
      <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-16"
      >
        <!-- Logo -->
        <div class="text-white text-xl font-bold">Shopmate Business</div>

        <!-- Owner Initials and Logout -->
        <div class="flex items-center justify-center">
          <div
            class="w-10 h-10 bg-white text-purple-600 font-bold flex justify-center items-center rounded-full shadow-lg ml-10"
          >
            <!-- Check if user.User_name is available -->
            <%= user.User_name ? user.User_name.charAt(0).toUpperCase() : '' %>
          </div>
          <a href="/owners/logout" class="font-bold ml-2">Log Out</a>
        </div>
      </div>
    </nav>

    <!-- Page Content -->
    <div class="pt-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Heading -->

      <!-- Products Grid -->
      <% if (ownersProduct.length === 0) { %>
      <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-gray-800">Your Products</h1>
        <p class="text-gray-600 mt-2">
          You haven't added any products yet. Click the "Add Product" button to
          add your first product.
        </p>
      </div>
      <% } else { %>
      <div
        class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"
      >
        <% ownersProduct.forEach(function (product) { %>
        <div class="bg-white rounded-lg shadow-lg overflow-hidden">
          <img
            src="data:image/jpeg;base64,<%= product.image.toString('base64') %>"
            alt="Product Image"
            class="w-full h-40 object-cover"
          />
          <div class="p-4">
            <a href="/owners/<%= product._id %>">
              <h3 class="font-bold text-lg text-gray-800">
                <%= product.product_name %>
              </h3>
            </a>
            <p class="text-gray-600 mt-2">Price: â‚¹<%= product.price %></p>
          </div>
        </div>
        <% }) %>
      </div>
      <% } %>
    </div>

    <!-- Fixed "Add Product" Button -->
    <a
      href="/owners/admin"
      class="fixed bottom-8 right-8 bg-pink-500 hover:bg-pink-600 text-white font-bold py-3 px-6 rounded-full shadow-lg flex items-center"
    >
      + Add Product
    </a>
  </body>
</html>
